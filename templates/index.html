{% extends "base.html" %}
{% block title %}Home - SQL Demo{% endblock %}
{% block content %}
  <h1>Welcome to the SQL Playground!</h1>
  <p>This is the home page. Try navigating to About to see how navigation and CSS work in Flask.</p>

  <h2>Students Table</h2>
<table>
  <tr>
    {% for col in student_columns %}
      <th>{{ col }}</th>
    {% endfor %}
  </tr>
  {% for row in students %}
  <tr>
    {% for item in row %}
      <td>{{ item }}</td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>

<h2>Grades Table</h2>
<table>
  <tr>
    {% for col in grade_columns %}
      <th>{{ col }}</th>
    {% endfor %}
  </tr>
  {% for row in grades %}
  <tr>
    {% for item in row %}
      <td>{{ item }}</td>
    {% endfor %}
  </tr>
  {% endfor %}
</table>

<form method=post>
  <textarea name=query rows=4 cols=80 placeholder="Type your SQL SELECT statement here">{{query}}</textarea><br>
  <input type=submit value="Run Query">
</form>
{% if error %}
  <p style="color:red;">Error: {{error}}</p>
{% endif %}
  {% if message %}
  <p style="color:green;">{{ message }}</p>
  {% endif %}
{% if results %}
  <h2>Results:</h2>

  <table border=1>
    <tr>
      {% for col in columns %}
        <th>{{col}}</thx>
      {% endfor %}
    </tr>
    {% for row in results %}
      <tr>
        {% for item in row %}
          <td>{{item}}</td>
        {% endfor %}
      </tr>
    {% endfor %}
  </table>
{% endif %}
{% endblock %}